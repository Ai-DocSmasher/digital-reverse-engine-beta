import hashlibimport jsonimport timeclass ReceiptGenerator:    def __init__(self, schema_path="config/economic/attribution_schema.json"):        with open(schema_path, "r") as f:            self.schema = json.load(f)    def _hash(self, data):        return hashlib.sha256(json.dumps(data, sort_keys=True).encode()).hexdigest()    def generate(self, input_audio, output_audio, enriched_metadata, datacost, gating_info):        """        Produces a signed A2A receipt.        """        receipt = {            "timestamp": time.time(),            "input_hash": self._hash(input_audio.tolist()),            "output_hash": self._hash(output_audio.tolist()),            "metadata": enriched_metadata,            "datacostunits": datacost,            "gating": gating_info,            "signature": None        }        # Self-signature        receipt["signature"] = self._hash(receipt)        return receipt